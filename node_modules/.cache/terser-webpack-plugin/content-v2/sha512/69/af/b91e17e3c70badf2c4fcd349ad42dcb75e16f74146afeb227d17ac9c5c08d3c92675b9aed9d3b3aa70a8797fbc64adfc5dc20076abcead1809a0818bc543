{"code":"!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){const r=n(1),o=[{name:\"Link 1\",url:\"https://www.google.com\"},{name:\"Link 2\",url:\"https://www.facebook.com\"},{name:\"Link 3\",url:\"https://www.linkedin.com\"}];addEventListener(\"fetch\",t=>{t.respondWith(async function(t){const e=new r;t.url&&e.get(\".*/links\",t=>function(t){const e=JSON.stringify(o);return new Response(e,{headers:{\"content-type\":\"application/json\"}})}());e.get(\"/\",()=>async function(t){const e={headers:{\"content-type\":\"text/html;charset=UTF-8\"}},n=function(t){let e=t;return e=(new HTMLRewriter).on(\"div#links\",new s(o)).transform(e),e}(await fetch(\"https://static-links-page.signalnerve.workers.dev\",e));console.log(o[0].name);const r=await async function(t){const{headers:e}=t,n=e.get(\"content-type\")||\"\";return n.includes(\"application/json\")?JSON.stringify(await t.json()):(n.includes(\"application/text\")||n.includes(\"text/html\"),await t.text())}(n);return new Response(r,e)}());return await e.route(t)}(t.request))});class s{constructor(t){this.links=t}async element(t){t.append(\"Tirth\")}}},function(t,e){const n=t=>e=>e.method.toLowerCase()===t.toLowerCase(),r=n(\"connect\"),o=n(\"delete\"),s=n(\"get\"),i=n(\"head\"),a=n(\"options\"),u=n(\"patch\"),c=n(\"post\"),l=n(\"put\"),d=n(\"trace\"),h=t=>e=>{const n=new URL(e.url).pathname;return(n.match(t)||[])[0]===n};t.exports=class{constructor(){this.routes=[]}handle(t,e){return this.routes.push({conditions:t,handler:e}),this}connect(t,e){return this.handle([r,h(t)],e)}delete(t,e){return this.handle([o,h(t)],e)}get(t,e){return this.handle([s,h(t)],e)}head(t,e){return this.handle([i,h(t)],e)}options(t,e){return this.handle([a,h(t)],e)}patch(t,e){return this.handle([u,h(t)],e)}post(t,e){return this.handle([c,h(t)],e)}put(t,e){return this.handle([l,h(t)],e)}trace(t,e){return this.handle([d,h(t)],e)}all(t){return this.handle([],t)}route(t){const e=this.resolve(t);return e?e.handler(t):new Response(\"resource not found\",{status:404,statusText:\"not found\",headers:{\"content-type\":\"text/plain\"}})}resolve(t){return this.routes.find(e=>!(e.conditions&&(!Array.isArray(e)||e.conditions.length))||(\"function\"==typeof e.conditions?e.conditions(t):e.conditions.every(e=>e(t))))}}}]);","extractedComments":[]}